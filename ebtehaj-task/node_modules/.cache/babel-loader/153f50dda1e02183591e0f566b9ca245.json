{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\task\\\\reactjs-note-challenge\\\\ebtehaj-task\\\\src\\\\App.js\";\nimport React from 'react'; // import {SweetAlert, SweetAlertOptionalProps} from 'react-bootstrap-sweetalert';\n\nimport swal from 'sweetalert'; //import SweetAlertOptionalProps from 'sweetalert';\n\nimport axios from 'axios';\nimport $ from \"jquery\"; // import {Dropdown} from '../node_modules/bootstrap/js'\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.min.js';\nimport './App.css'; // import './Assets/Styles.css';\n\nclass Home extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      this.setState({\n        title: e.target.value\n      });\n    };\n\n    this.onContentChange = e => {\n      this.setState({\n        content: e.target.value\n      });\n    };\n\n    this.add = e => {\n      console.log(\"state:\", this.state); //sendData();\n\n      this.setState({\n        'boxShow': true\n      });\n    };\n\n    this.getToken = () => {\n      axios({\n        method: 'post',\n        url: 'https://challenge.ronash.co/react/api/v1/auth/token/',\n        // headers: {token: \"jwt your_jwt_token\"},\n        data: {\n          email: 'pourebtehaj.z@gmail.com',\n          password: '987654321'\n        }\n      }).then(res => {\n        console.log(res);\n        this.setState({\n          'token': res.data.token\n        }, function () {\n          this.getData();\n        });\n      }).catch(error => console.log(error));\n    };\n\n    this.sendData = () => {\n      let _this$state = this.state,\n          token = _this$state.token,\n          title = _this$state.title,\n          content = _this$state.content;\n      console.log(\"token is:\", token);\n      axios({\n        method: 'post',\n        url: 'https://challenge.ronash.co/react/api/v1/notes/',\n        headers: {\n          'Authorization': 'jwt ' + token\n        },\n        data: {\n          title: title,\n          content: content\n        }\n      }).then(res => {\n        console.log(res);\n\n        if (res.status === 201) {\n          swal(\"success\");\n          this.getData(); // let copyData = [...this.state.data];\n          // copyData.push(res.data);\n          // this.setState({ 'data': copyData, 'title': '', 'content': '' })\n        }\n      }).catch(error => console.log(error) // swal(error)\n      );\n    };\n\n    this.getData = () => {\n      let _this$state2 = this.state,\n          token = _this$state2.token,\n          title = _this$state2.title,\n          content = _this$state2.content;\n      axios({\n        method: 'get',\n        url: 'https://challenge.ronash.co/react/api/v1/notes/',\n        headers: {\n          'Authorization': 'jwt ' + token\n        } // data: { title: title, content: content }\n\n      }).then(res => {\n        this.setState({\n          'data': res.data,\n          'title': '',\n          'content': ''\n        });\n      }).catch(error => console.log(error) // swal(error)\n      );\n    };\n\n    this.deleteItem = id => {\n      let _this$state3 = this.state,\n          token = _this$state3.token,\n          title = _this$state3.title,\n          content = _this$state3.content;\n      console.log(\"delete id:\", id);\n      axios({\n        method: 'delete',\n        url: 'https://challenge.ronash.co/react/api/v1/notes/' + id,\n        headers: {\n          'Authorization': 'jwt ' + token\n        } // data: { title: title, content: content }\n\n      }).then(res => {\n        console.log(\"delete res:\", res);\n\n        if (res.status === 200) {\n          swal(\"deleted\");\n          this.getData();\n        } else {\n          swal(\"error! the item is not deleted!\");\n        } // this.setState({ 'data': res.data, 'title': '', 'content': '' })\n\n      }).catch(error => console.log(error) // swal(error)\n      );\n    };\n\n    this.discard = () => {\n      this.setState({\n        'boxShow': false,\n        'title': '',\n        'content': ''\n      });\n    };\n\n    this.state = {\n      'title': '',\n      'content': '',\n      'boxShow': false,\n      'token': null,\n      'data': []\n    };\n  }\n\n  componentDidMount() {\n    this.getToken();\n  }\n\n  render() {\n    let data = this.state.data;\n    console.log(\"in render function data is:\", this.state.data); // if (data !== null) {\n    //   let dataList = data.map((data, index) => {\n    //     console.log(\"data is:\", data);\n    //   });\n    // }\n\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card mt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"note\",\n      value: this.state.content,\n      placeholder: \"Take a note ...\",\n      onChange: this.onContentChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary float-right mt-3\",\n      onClick: this.add,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Add\"))), this.state.boxShow && React.createElement(\"div\", {\n      className: \"card mt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control mb-3\",\n      id: \"note\",\n      value: this.state.title,\n      placeholder: \"title ...\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(\"textarea\", {\n      className: \"form-control mb-3\",\n      id: \"exampleFormControlTextarea1\",\n      value: this.state.content,\n      placeholder: \"Take a note ...\",\n      rows: \"3\",\n      onChange: this.onContentChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary float-right ml-3\",\n      onClick: this.sendData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Save\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary float-right ml-3\",\n      onClick: this.discard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Discard\"))), this.state.data && Object.keys(this.state.data).map(key => React.createElement(React.Fragment, {\n      key: this.state.data[key]._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card mt-4 listBox\",\n      \"data-id\": this.state.data[key]._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"todo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, this.state.data[key].title), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, this.state.data[key].content))), React.createElement(\"div\", {\n      className: \"dropdown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-default dropdown-toggle\",\n      \"data-toggle\": \"dropdown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-option-vertical\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"dropdown-menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"dropdown-item\",\n      href: \"#\",\n      onClick: () => this.deleteItem(this.state.data[key]._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"delete\")))))))));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["D:/Project/task/reactjs-note-challenge/ebtehaj-task/src/App.js"],"names":["React","swal","axios","$","Home","Component","constructor","handleChange","e","setState","title","target","value","onContentChange","content","add","console","log","state","getToken","method","url","data","email","password","then","res","token","getData","catch","error","sendData","headers","status","deleteItem","id","discard","componentDidMount","render","boxShow","Object","keys","map","key","_id"],"mappings":"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","sourcesContent":["import React from 'react';\n// import {SweetAlert, SweetAlertOptionalProps} from 'react-bootstrap-sweetalert';\nimport swal from 'sweetalert';\n//import SweetAlertOptionalProps from 'sweetalert';\nimport axios from 'axios';\n\nimport $ from \"jquery\";\n\n// import {Dropdown} from '../node_modules/bootstrap/js'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.min.js';\nimport './App.css';\n// import './Assets/Styles.css';\n\n\nclass Home extends React.Component {\n\n  constructor() {\n    super();\n    this.state = {\n      'title': '',\n      'content': '',\n      'boxShow': false,\n      'token': null,\n      'data': []\n    }\n  }\n\n  componentDidMount() {\n    this.getToken();\n  }\n\n  handleChange = e => {\n    this.setState({\n      title: e.target.value\n    });\n  };\n\n  onContentChange = e => {\n    this.setState({\n      content: e.target.value\n    });\n  }\n\n  add = (e) => {\n    console.log(\"state:\", this.state)\n    //sendData();\n    this.setState({ 'boxShow': true });\n  }\n\n  getToken = () => {\n    axios({\n      method: 'post',\n      url: 'https://challenge.ronash.co/react/api/v1/auth/token/',\n      // headers: {token: \"jwt your_jwt_token\"},\n      data: { email: 'pourebtehaj.z@gmail.com', password: '987654321' }\n    }).then(res => {\n      console.log(res)\n      this.setState({ 'token': res.data.token }, function () {\n        this.getData();\n      })\n    })\n      .catch(error => console.log(error));\n  }\n\n  sendData = () => {\n    let { token, title, content } = this.state;\n    console.log(\"token is:\", token);\n    axios({\n      method: 'post',\n      url: 'https://challenge.ronash.co/react/api/v1/notes/',\n      headers: {\n        'Authorization': 'jwt ' + token\n      },\n      data: { title: title, content: content }\n    }).then(res => {\n      console.log(res);\n      if (res.status === 201) {\n        swal(\"success\")\n        this.getData();\n        // let copyData = [...this.state.data];\n        // copyData.push(res.data);\n        // this.setState({ 'data': copyData, 'title': '', 'content': '' })\n      }\n    })\n      .catch(error => console.log(error)\n        // swal(error)\n      );\n  }\n\n  getData = () => {\n    let { token, title, content } = this.state;\n    axios({\n      method: 'get',\n      url: 'https://challenge.ronash.co/react/api/v1/notes/',\n      headers: {\n        'Authorization': 'jwt ' + token\n      },\n      // data: { title: title, content: content }\n    }).then(res => {\n      this.setState({ 'data': res.data, 'title': '', 'content': '' })\n    })\n      .catch(error => console.log(error)\n        // swal(error)\n      );\n  }\n\n  deleteItem = (id) => {\n    let { token, title, content } = this.state;\n\n    console.log(\"delete id:\", id);\n    axios({\n      method: 'delete',\n      url: 'https://challenge.ronash.co/react/api/v1/notes/' + id,\n      headers: {\n        'Authorization': 'jwt ' + token\n      },\n      // data: { title: title, content: content }\n    }).then(res => {\n      console.log(\"delete res:\", res);\n      if (res.status === 200) {\n        swal(\"deleted\");\n        this.getData();\n      } else {\n        swal(\"error! the item is not deleted!\");\n      }\n\n      // this.setState({ 'data': res.data, 'title': '', 'content': '' })\n    })\n      .catch(error => console.log(error)\n        // swal(error)\n      );\n  }\n\n\n  discard = () => {\n    this.setState({ 'boxShow': false, 'title': '', 'content': '' });\n  }\n\n\n  render() {\n    let { data } = this.state;\n    console.log(\"in render function data is:\", this.state.data);\n    // if (data !== null) {\n    //   let dataList = data.map((data, index) => {\n    //     console.log(\"data is:\", data);\n    //   });\n    // }\n\n    return <React.Fragment>\n      <div className='container-fluid'>\n        <div className='container'>\n          <div className=\"card mt-4\">\n            <div className=\"card-body\">\n              <input type=\"text\" className=\"form-control\" id=\"note\" value={this.state.content} placeholder=\"Take a note ...\" onChange={this.onContentChange} />\n              <button type=\"button\" className=\"btn btn-primary float-right mt-3\" onClick={this.add}>Add</button>\n            </div>\n          </div>\n          {this.state.boxShow && <div className=\"card mt-4\">\n            <div className=\"card-body\">\n              <input type=\"text\" className=\"form-control mb-3\" id=\"note\" value={this.state.title} placeholder=\"title ...\" onChange={this.handleChange} />\n              <textarea className=\"form-control mb-3\" id=\"exampleFormControlTextarea1\" value={this.state.content} placeholder=\"Take a note ...\" rows=\"3\" onChange={this.onContentChange}></textarea>\n              <button type=\"button\" className=\"btn btn-primary float-right ml-3\" onClick={this.sendData}>Save</button>\n              <button type=\"button\" className=\"btn btn-primary float-right ml-3\" onClick={this.discard}>Discard</button>\n            </div>\n          </div>}\n\n          {this.state.data && Object.keys(this.state.data).map((key) => (\n            <React.Fragment key={this.state.data[key]._id}>\n              <div className=\"card mt-4 listBox\" data-id={this.state.data[key]._id}>\n                <div className=\"card-body\">\n                  <div className=\"todo\">\n                    <h2 className=\"card-title\">{this.state.data[key].title}</h2>\n                    <h4>{this.state.data[key].content}</h4>\n                  </div>\n                </div>\n\n                <div className=\"dropdown\">\n                  <button type=\"button\" className=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\">\n                    <span className=\"glyphicon glyphicon-option-vertical\" aria-hidden=\"true\" >\n                    </span>\n                  </button>\n                  <div className=\"dropdown-menu\">\n                    <a className=\"dropdown-item\" href=\"#\" onClick={() => this.deleteItem(this.state.data[key]._id)}>delete</a>\n                  </div>\n                </div>\n              </div>\n            </React.Fragment>\n          ))}\n        </div>\n      </div>\n    </React.Fragment>\n  }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}